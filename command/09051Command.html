<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>命令模式</title>
	<link rel="stylesheet" href="">
</head>
<body>
<div><button id="button1">按钮一</button></div>
<div><button id="button2">按钮二</button></div>
<div><button id="button3">按钮三</button></div>
<script type="text/javascript">
	var button1 = document.getElementById('button1');
	var button2 = document.getElementById('button2');
	var button3 = document.getElementById('button3');

	var setCommand = function(button, command) {
		button.onclick = function() {
			command.execute();
		};
	};

	var MenuBar = {
		refresh: function() {
			console.log('刷新菜单');
		}
	};

	var SubMenu = {
		add: function() {
			console.log('添加子菜单');
		},
		del: function() {
			console.log('删除子菜单');
		}
	};

	var RefreshMenuBarCommand = function(receiver) {
		return {
			execute: function() {
				receiver.refresh();
			}
		};
	};

	var AddSubMenuCommand = function(receiver) {
		return {
			execute: function() {
				receiver.add();
			}
		};
	};

	var DelSubMenuCommand = function(receiver) {
		return {
			execute: function() {
				receiver.del();
			}
		};
	};

	var refreshMenuBarCommand = RefreshMenuBarCommand(MenuBar);
	var addSubMenuCommand = AddSubMenuCommand(SubMenu);
	var delSubMenuCommand = DelSubMenuCommand(SubMenu);

	setCommand(button1, refreshMenuBarCommand);
	setCommand(button2, addSubMenuCommand);
	setCommand(button3, delSubMenuCommand);
</script>
</body>
</html>